(this["webpackJsonpsome-chat"]=this["webpackJsonpsome-chat"]||[]).push([[0],{110:function(e,t,n){},209:function(e,t,n){},210:function(e,t,n){},215:function(e,t,n){},239:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n.n(s),a=n(12),i=n.n(a),o=(n(110),n(46)),r=n(47),l=n(54),j=n(53),d=n(93),h=n.n(d),b=(n(209),n(280)),u=n(279),m=(n(210),n(275)),g=n(276),O=n(277),f=n(278),x=n(282),p=n(5),v=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).handleClickOpen=function(){s.setState({open:!0})},s.handleClose=function(){s.setState({open:!1})},s.save=function(){s.setState({open:!1}),s.props.setName(s.state.name)},s.setEnteredName=function(e){s.setState({name:e.target.value})},s.state={open:!0,name:null},s}return Object(r.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{children:Object(p.jsxs)(x.a,{open:this.state.open,"aria-labelledby":"form-dialog-title",children:[Object(p.jsx)(m.a,{id:"form-dialog-title",children:"SomeChat"}),Object(p.jsxs)(g.a,{children:[Object(p.jsx)(O.a,{children:"Please enter your name"}),Object(p.jsx)(u.a,{autoFocus:!0,margin:"dense",id:"name",label:"Name",type:"name",onChange:this.setEnteredName,fullWidth:!0})]}),Object(p.jsxs)(f.a,{children:[Object(p.jsx)(b.a,{onClick:this.save,color:"primary",children:"Save"}),Object(p.jsx)(b.a,{onClick:this.handleClose,color:"primary",children:"Cancel"})]})]})})}}]),n}(s.Component),C=(n(215),n(216),function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).chatContainer=c.a.createRef(),s.setName=function(e){console.log(e),s.setState({name:e})},s.setIp=function(e){console.log(e),s.setState({ip:e})},s.sendMessage=function(){s.clientRef.sendMessage("/app/user-all",JSON.stringify({name:s.state.name,message:s.state.typedMessage})),s.setState({needtoscroll:!0})},s.scrollToMyRef=function(){var e=s.chatContainer.current.scrollHeight-s.chatContainer.current.clientHeight;s.chatContainer.current.scrollTo(0,e)},s.displayMessages=function(){return Object(p.jsx)("div",{ref:s.chatContainer,className:"Chat",children:s.state.messages.map((function(e){return Object(p.jsx)("div",{className:"Mes",children:s.state.name==e.name?Object(p.jsxs)("div",{children:[Object(p.jsxs)("p",{className:"title1",children:[e.name,", ",new Date(e.time).toString()," : "]}),Object(p.jsx)("br",{}),Object(p.jsx)("p",{children:e.message})]}):Object(p.jsxs)("div",{children:[Object(p.jsxs)("p",{className:"title2",children:[e.name,", ",new Date(e.time).toString()," : "]}),Object(p.jsx)("br",{}),Object(p.jsx)("p",{children:e.message})]})})}))})},s.state={messages:[],typedMessage:"",name:"",needtoscroll:!1,is_just_connected:!0},s}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{children:[Object(p.jsx)(v,{setName:this.setName}),Object(p.jsxs)("div",{className:"align-center",children:[Object(p.jsx)("h1",{children:"Some-Chat"}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{})]}),Object(p.jsx)("div",{className:"align-center"}),Object(p.jsxs)("div",{className:"align-center",children:["User : ",Object(p.jsxs)("p",{className:"title1",children:[" ",this.state.name," "]})]}),Object(p.jsx)("div",{className:"align-center",children:this.displayMessages()}),Object(p.jsxs)("div",{className:"align-center",children:[Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)("table",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:Object(p.jsx)(u.a,{id:"outlined-basic",label:"Enter Message to Send",variant:"outlined",onChange:function(t){e.setState({typedMessage:t.target.value})}})}),Object(p.jsx)("td",{children:Object(p.jsx)(b.a,{variant:"contained",color:"primary",onClick:this.sendMessage,children:"Send"})})]})})]}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)(h.a,{url:window.location.href+"some-chat",topics:["/topic/user"],onConnect:function(){e.clientRef.sendMessage("/app/history",JSON.stringify({})),console.log("Connected"),e.setState({is_just_connected:!0})},onDisconnect:function(){console.log("Disconnected")},onMessage:function(t){var n=e.state.messages;if(console.log(typeof t),Array.isArray(t)){if(!e.state.is_just_connected)return;console.log("in array logic"),console.log(t),n=t}else console.log("in object logic"),console.log(t),n.push(t);e.setState({messages:n,is_just_connected:!1}),console.log(e.state),e.state.needtoscroll&&(e.scrollToMyRef(),e.setState({needtoscroll:!1}))},ref:function(t){e.clientRef=t}})]})}}]),n}(s.Component)),y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,284)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),c(e),a(e),i(e)}))};i.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(C,{})}),document.getElementById("root")),y()}},[[239,1,2]]]);
//# sourceMappingURL=main.cf7150b7.chunk.js.map